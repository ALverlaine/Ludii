(game "Morpion Solitaire" 
    (players 1) 
    (equipment { 
    	(board 
                (square 20 diagonals:SolidNoSplit) 
                use:Vertex
            )
        (piece "Cross" P1)
    }) 
    (rules 
        (start { 
            (place "Cross" (sites {
            	148  128 108..111 165..168 185 205 225..228
            	131 151 171..174 194 214 234..231 251
            	271 291..288 248 268
            	})
            )
        })
        
        (play (move Select 
                (from Vertex (intersection (sites Around (sites Occupied by:P1)) (sites Empty Edge)))
                (to Vertex (intersection (sites Occupied by:P1) (sites Around (from)))
                	if:(is Empty Edge (edge (from) (to)))
                ) 
                (then 
                	(and {
                	(add (to Vertex (last From)))
                	(add (to Edge (edge (last From) (last To))))
                	})
                )
         )
       )
        (end (if (no Moves Mover) (result P1 Win)))
    )
)

//------------------------------------------------------------------------------

(metadata 
    
    (info
        {
        }
    )
    
    (graphics {
        (show Edges Orthogonal Hidden)
        (show Edges Diagonal Hidden)
        (board Colour OuterVertices (colour Hidden))
        (board Colour InnerVertices (colour Hidden))
        (player Colour P1 (colour Black))
        (board Style PenAndPaper replaceComponentsWithFilledCells:True)
    })
    
)

