(game "Fractal"
    (players 2)
    (equipment {
        (board 
            (union
                //  external board
                (shift 3.45 6
                (scale 3
                (remove
                    (remove
                        (clip
                            (hex 3)
                            (poly { { 0 1} { 2 1 } { 4 5 } { 1 4 } })
                        )
                        cells:{9}
                    )
                    vertices:{26 30 34 39 35 40 36 31 27 22 18 14  9 13 8 12 17 21 25}
                )
                )
               )
                
                (union 
                // Internal board
                (remove
                (shift 5.77 10
                    (scale 0.333
                        (remove
                            (remove 
                                (hex Star 5)
                                cells:{0 1 2 3 4 5 6 7 8 9
                                30 29 45 28 44 59 27 43 58 72
                                165 164 149 163 148 134 162 147 133 120
                                180 178 179 175 176 177 171 172 173 174
                                150 135 151 152 136 121 108 122 137 153
                                15 16 31 17 32 46 18 33 47 60
                                }
                            )
                            cells:{
                            0 1 2 3 4 12 21 31 42 54 77 88 98 107 115
                            120 119 118 117 116 108 99 89 78 66
                            43 32 22 13 5 
                            6 8 9 11 30 41 65
                            87 97 114 112 111 109 90 79 55 33 23
                            }
                        )
                    )
                )
              vertices:{0..40 42 43 45..50 62..67 80..84 97..100 113..116
                          128..131 143..146 158..160 173 174 187 200 212 224 366
                          237 250 263 264 276..278 290..293 305..308 321..324
                          337..340 353..357 369..374 375..380 382 383 385..425
                          358..363 341..345 325..328 309..312 294..297 279..282
                          265..267 251 252 238 225 213 201 188 175 161..162
                          147..149 132..135 117..120 101..104 85..88 68..72 51..56 59
                          }
             )
                    
                // Middle board
                (remove
                (remove
                    (remove
                        (remove
                            (remove 
                                (hex Star 5)
                                cells:{0 1 2 3 4 5 6 7 8 9
                                30 29 45 28 44 59 27 43 58 72
                                165 164 149 163 148 134 162 147 133 120
                                180 178 179 175 176 177 171 172 173 174
                                150 135 151 152 136 121 108 122 137 153
                                15 16 31 17 32 46 18 33 47 60
                                }
                            )
                            cells:{
                            0 1 2 3 4 12 21 31 42 54 77 88 98 107 115
                            120 119 118 117 116 108 99 89 78 66
                            43 32 22 13 5 
                            6 8 9 11 30 41 65
                            87 97 114 112 111 109 90 79 55 33 23
                            }
                        )
                        cells:{
                        26 27 35 36 37 45 46
                        }
                    )
                    vertices:{
                    193 180 167 181 168 182 195 208 220 232 245 258 244 257 243 230 217 205
                    }
                )
                vertices:{188 198 199 208 209 219
                    0..40 42 43 59 45..50 62..67 80..84 97..100 113..116 128..131 
                    143..146 158..160 171..172 182 193 203 213 224 234 245 246
                    258..260 272..275 287..290 303..306 319..322 335..339 351..362
                    364 365 367..407 340..345 323..327 307..310 291..294 276..279
                    261..264 247..249 235 236 225 214 204 194 183 173 161 162
                    147..149 132..135 117..120 101..104 85..88 68..72 51..56
                }
               )
                )
            )
        )
        (piece "Marker" Each)
    })
    (rules
        (play (move Add (to (sites Empty))))
        (end 
            (if (no Moves Next) (result Mover Win))
        )
    )
)

//------------------------------------------------------------------------------

(metadata 
    
    (info
        {
        }
    )
    
)
