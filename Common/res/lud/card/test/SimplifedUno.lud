(define "HandEmpty"
(all Sites (sites Hand #1) if:(= 0 (count Cell at:(site))))
)

(game "Simplified_uno"
    (players 2)
    (equipment {
            (hand Each)
            (card "ONE" value:1 ) //we can add more parameters to the card, like color, or special abilities
            (card "TWO" value:1)
            (card "THREE" value:1)
            (card "FOUR" value:1)

            (deck "PLAY")
            (deck "STOCK" cardset:"UNO_SET")
        )
    })
    (rules
        (start {
	
            (shuffle "STOCK") //shuffle the deck, a deck can be constituted of multiple sets of cards
            (deal 2 Each from:"STOCK") //deal 2 cards to each player
            (deal 1 PLAY from:"STOCK") //deal 1 card to the discard pile
        })
        (play
            (or
                {
                (move PlayCard (if:(=  ( "suit" (topLevel at:"PLAY"))))
                (move PlayCard (if:(=  (Param "card" (topLevel at:"PLAY"))))
                (move DrawCard at:"STOCK")
                }
            )
        )
        (end
            (if
                ("HandEmpty") (result Mover Win)
            )
        )
    )
)
