// Defines a piece moving like a king in Chess (castling is not described in this ludemeplex).
// #1 = The name of the piece.
// #2 = The consequences.
// @example ("ChessKing" "King")

(define "ChessKing"
    (piece #1 Each 
        (move
            Step 
            (to 
                if:(not (is Friend (who at:(to)))) 
                (apply 
                    (if (is Enemy (who at:(to)))
                        (remove 
                            (to) 
                            (then (set Counter))
                        )
                    )
                ) 
            ) 
            #2
        )
    )
)
